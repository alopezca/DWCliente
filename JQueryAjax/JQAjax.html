<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Practice with jquery</title>
        <script src="Jquery3.2.1.js"></script>
    <script>
        $(document).ready(function(){
        //Seleccionar los asientos de la zona VIP y mostrarlos en pantalla.
        $("<ul/>",{
            id: "lista1"
        }).appendTo("body");
        $("#asientos #zona_vip #row_1 ul li").each(function(i, e){
            var texto = e.textContent;
            $("<li/>",{
                text: texto
            }).appendTo("#lista1");
        })
        //Seleccionar los asientos de la zona POPULAR y mostrarlos en pantalla.
        $("<ul/>",{
            id: "lista2"
        }).appendTo("body");
        $("#asientos #zona_popular #row_2 ul li").each(function(i, e){
            var texto = e.textContent;
            $("<li/>",{
                text: texto
            }).appendTo("#lista2");
        })
        //Mostrar en rojo todos los asientos 3 de todas las filas.
        $("#asientos ul li ul li:nth-child(3)").css({"color":"red"});
        //Mostrar en rojo todos los asientos de la zona VIP y poner el texto de “FILA COMPLETA” en la descripción de la fila.
        $("#asientos #zona_vip #row_1 ul li").css({"color":"red"});
        let asientos = $('#row_1 > ul')
        $('#row_1').text("FILA COMPLETA");
        $('#row_1').append(asientos);


        //Muestra en pantalla el número de asientos que están libres todavía (no están en rojo).
            let contador =0;

        $('#asientos ul > li > ul > li').each(function() {
            if ($(this).css("color") === "rgb(0, 0, 0)"){
                contador = contador+1;
            }
        })
        $("body").append("Asientos libres: "+contador);


        // Seleccionar todos los asientos pares y marcarlos como reservados (en color azul).
        $("#asientos ul li ul li:nth-child(even)").css({"color":"blue"});


        //Anadir un fila nueva al final del toddo, con sus correspondientes asientos.
            $("<il/>",{
                text: "Asiento Nuevo"
            }).appendTo( $("#asientos>#zona_popular>#row_4>li>ul>li"));


        //Borrar los asientos de la zona VIP, y renombrar atributo id de las filas y adecuar el texto de los asientos.
        $("#asientos #zona_vip").remove();
        $("#asientos #zona_popular").each(function (i,e) {
            this.id="Row_"+[i];
        })

        })
    </script>

</head>

<body>
<div id="asientos"><b>CINE ZUBIRI</b>
    <ul id="zona_vip">
        <li id="row_1">FILA Libre
            <ul>
                <li>asiento 1-1</li>
                <li>asiento 1-2</li>
                <li>asiento 1-3</li>
                <li>asiento 1-4</li>
                <li>asiento 1-5</li>
            </ul>
        </li>
    </ul>
    <ul id="zona_popular">
        <li id="row_2">FILA Popular
            <ul>
                <li>asiento 2-1</li>
                <li>asiento 2-2</li>
                <li>asiento 2-3</li>
                <li>asiento 2-4</li>
                <li>asiento 2-5</li>
            </ul>
        </li>
        <li id="row_3">FILA Libre
            <ul>
                <li>asiento 3-1</li>
                <li>asiento 3-2</li>
                <li>asiento 3-3</li>
                <li>asiento 3-4</li>
                <li>asiento 3-5</li>
            </ul>
        </li>
        <li id="row_4">FILA Libre
            <ul>
                <li>asiento 4-1</li>
                <li>asiento 4-2</li>
                <li>asiento 4-3</li>
                <li>asiento 4-4</li>
                <li>asiento 4-5</li>
            </ul>
        </li>
    </ul>
</div>
</body>
</html>
